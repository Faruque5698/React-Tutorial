<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create</title>
    <link rel="stylesheet" href="CSS/milligram.css">
</head>
<body>
<div  class="container">
    <div class="row">
        <div class="column">
            <label for="name">Product Name</label>
            <input type="text" name="" id="name" placeholder="Enter a product name">
            <label for="price">Product Price</label>
            <input type="text" name="" id="price" placeholder="Enter a product price">
            <label for="description">Product Description</label>
            <textarea type="text" name="" id="description" placeholder="Enter a product description"></textarea>
            <button onclick="storeItem()">Create</button>
        </div>
    </div>
</div>

<script src="JS/Axios.js"></script>
<script>
    async function storeItem(){
        let name = document.getElementById('name').value;
        let price = document.getElementById('price').value;
        let description = document.getElementById('description').value;
        let storeObject = {
            "name": name,
            "description": description,
            "price": price
        }

        let result = await axios.post(`http://127.0.0.1:8080/api/products`, storeObject);
        if(result.status === 200 || result.status === 201){
            alert("Product Created Successfully");
            window.location.href = "index.html";
        }else {
            alert(result.status);
        }
    }
</script>

</body>
</html>